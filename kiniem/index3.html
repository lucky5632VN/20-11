<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>G√≥c K·ª∑ Ni·ªám | 20-11</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Lora:ital,wght@0,400;0,600;1,400&display=swap');
        
        body {
            font-family: 'Lora', serif;
            background: linear-gradient(135deg, #fff5f7 0%, #fff0f5 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Hi·ªáu ·ª©ng ti√™u ƒë·ªÅ */
        .title-font {
            font-family: 'Dancing Script', cursive;
        }

        /* Masonry Layout (X·∫øp g·∫°ch ki·ªÉu Pinterest) */
        .masonry-grid {
            column-count: 1;
            column-gap: 1.5rem;
        }
        @media (min-width: 640px) { .masonry-grid { column-count: 2; } }
        @media (min-width: 1024px) { .masonry-grid { column-count: 3; } }

        /* Style cho t·ª´ng t·∫•m ·∫£nh (Polaroid Style) */
        .photo-card {
            break-inside: avoid; /* Kh√¥ng b·ªã c·∫Øt ƒë√¥i khi xu·ªëng d√≤ng */
            margin-bottom: 1.5rem;
            background: white;
            padding: 12px 12px 30px 12px; /* Ph·∫ßn d∆∞·ªõi d√†y h∆°n gi·ªëng ·∫£nh Polaroid */
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 2px;
            transform: rotate(0deg);
            cursor: zoom-in;
            opacity: 0; /* ·∫®n ban ƒë·∫ßu ƒë·ªÉ ch·∫°y hi·ªáu ·ª©ng hi·ªán ra */
            animation: fadeInUp 0.8s ease-out forwards;
        }

        /* T·∫°o hi·ªáu ·ª©ng nghi√™ng ng·∫´u nhi√™n nh·∫π khi hover */
        .photo-card:hover {
            transform: scale(1.03) rotate(-1deg);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            z-index: 10;
        }
        .photo-card:nth-child(even):hover {
            transform: scale(1.03) rotate(1deg);
        }

        .photo-card img {
            width: 100%;
            height: auto;
            display: block;
            border-radius: 2px;
        }

        /* Animation xu·∫•t hi·ªán */
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Lightbox */
        #lightbox {
            backdrop-filter: blur(10px);
            transition: opacity 0.3s ease;
        }
        #lightbox.active { display: flex; opacity: 1; pointer-events: auto; }
        #lightbox:not(.active) { opacity: 0; pointer-events: none; }
        
        #lightbox img {
            max-width: 90vw;
            max-height: 85vh;
            border: 8px solid white;
            border-radius: 4px;
            box-shadow: 0 0 50px rgba(0,0,0,0.5);
            transform: scale(0.9);
            transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        #lightbox.active img { transform: scale(1); }

        /* N√∫t ƒëi·ªÅu khi·ªÉn nh·∫°c */
        .music-control {
            position: fixed;
            bottom: 20px;
            left: 20px;
            z-index: 50;
            width: 50px;
            height: 50px;
            background: white;
            border-radius: 50%;
            box-shadow: 0 4px 15px rgba(219, 39, 119, 0.4);
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: transform 0.3s;
        }
        .music-control:hover { transform: scale(1.1); }
        .music-control.playing i { animation: spin 4s linear infinite; }
        @keyframes spin { 100% { transform: rotate(360deg); } }

        /* Hoa r∆°i (trang tr√≠) */
        .flower {
            position: fixed;
            top: -10%;
            z-index: 0;
            pointer-events: none;
            animation: fall linear infinite;
        }
        @keyframes fall {
            0% { transform: translateY(-10vh) rotate(0deg); opacity: 1; }
            100% { transform: translateY(110vh) rotate(360deg); opacity: 0; }
        }
    </style>
</head>
<body class="text-gray-800">

    <!-- Nh·∫°c n·ªÅn -->
    <audio id="bgAudio" loop>
        <source src="../music/song3.mp3" type="audio/mpeg">
    </audio>

    <!-- N√∫t nh·∫°c -->
    <div class="music-control" onclick="toggleMusic()" title="B·∫≠t/T·∫Øt nh·∫°c">
        <i class="fa-solid fa-compact-disc text-2xl text-pink-600"></i>
    </div>

    <!-- Lightbox -->
    <div id="lightbox" class="fixed inset-0 bg-black/90 z-[100] flex justify-center items-center p-4" onclick="closeLightbox()">
        <button class="absolute top-6 right-6 text-white text-5xl hover:text-pink-400 transition-colors">&times;</button>
        <img id="lightbox-img" src="" alt="·∫¢nh ph√≥ng to" onclick="event.stopPropagation()">
    </div>

    <div class="container mx-auto px-6 py-16 max-w-7xl relative z-10">
        
        <!-- Header -->
        <header class="text-center mb-20">
            <h1 class="title-font text-5xl md:text-7xl text-pink-600 mb-6 drop-shadow-sm animate-[fadeInUp_1s_ease-out]">
                L∆∞u B√∫t Ng√†y Xanh
            </h1>
            <div class="w-32 h-1.5 bg-gradient-to-r from-pink-300 to-purple-300 mx-auto mb-8 rounded-full"></div>
            <p class="text-lg md:text-xl text-gray-600 max-w-2xl mx-auto italic leading-relaxed">
                "M·ªói b·ª©c ·∫£nh l√† m·ªôt m·∫£nh gh√©p k√Ω ·ª©c, ƒë·ªÉ nh·∫Øc nh·ªü ch√∫ng ta v·ªÅ nh·ªØng th√°ng ng√†y r·ª±c r·ª° nh·∫•t d∆∞·ªõi m√°i tr∆∞·ªùng n√†y."
            </p>
        </header>

        <!-- Gallery Masonry -->
        <div id="gallery" class="masonry-grid">
            <!-- ·∫¢nh s·∫Ω ƒë∆∞·ª£c JS th√™m v√†o ho·∫∑c b·∫°n c√≥ th·ªÉ vi·∫øt c·ª©ng t·∫°i ƒë√¢y -->
            
            <!-- M·∫™U 1 CARD ·∫¢NH -->
            <div class="photo-card" style="animation-delay: 0.1s" onclick="openLightbox(this)">
                <img src="../image/anh1.jpg" onerror="this.src='https://images.unsplash.com/photo-1523050854058-8df90110c9f1?w=600&q=80'" alt="K·ª∑ ni·ªám">
                <div class="mt-3 text-center font-handwriting text-gray-500 text-sm italic">K·ª∑ ni·ªám 1</div>
            </div>

            <div class="photo-card" style="animation-delay: 0.2s" onclick="openLightbox(this)">
                <img src="../image/anh2.jpg" onerror="this.src='https://images.unsplash.com/photo-1544531586-fde5298cdd40?w=600&q=80'" alt="K·ª∑ ni·ªám">
                <div class="mt-3 text-center font-handwriting text-gray-500 text-sm italic">K·ª∑ ni·ªám 2</div>
            </div>

            <div class="photo-card" style="animation-delay: 0.3s" onclick="openLightbox(this)">
                <img src="../image/anh3.jpg" onerror="this.src='https://images.unsplash.com/photo-1509062522246-3755977927d7?w=600&q=80'" alt="K·ª∑ ni·ªám">
                <div class="mt-3 text-center font-handwriting text-gray-500 text-sm italic">K·ª∑ ni·ªám 3</div>
            </div>

            <div class="photo-card" style="animation-delay: 0.4s" onclick="openLightbox(this)">
                <img src="../image/anh4.jpg" onerror="this.src='https://images.unsplash.com/photo-1497633762265-9d179a990aa6?w=600&q=80'" alt="K·ª∑ ni·ªám">
                <div class="mt-3 text-center font-handwriting text-gray-500 text-sm italic">K·ª∑ ni·ªám 4</div>
            </div>

            <div class="photo-card" style="animation-delay: 0.5s" onclick="openLightbox(this)">
                <img src="../image/anh5.jpg" onerror="this.src='https://images.unsplash.com/photo-1524178232363-1fb2b075b655?w=600&q=80'" alt="K·ª∑ ni·ªám">
                <div class="mt-3 text-center font-handwriting text-gray-500 text-sm italic">Kho·∫£nh kh·∫Øc ƒë√°ng nh·ªõ</div>
            </div>

            <div class="photo-card" style="animation-delay: 0.6s" onclick="openLightbox(this)">
                <img src="../image/anh6.jpg" onerror="this.src='https://images.unsplash.com/photo-1577896851231-70ef18881754?w=600&q=80'" alt="K·ª∑ ni·ªám">
            </div>

            <div class="photo-card" style="animation-delay: 0.7s" onclick="openLightbox(this)">
                <img src="../image/anh7.jpg" onerror="this.src='https://images.unsplash.com/photo-1427504746696-ea5abc71a380?w=600&q=80'" alt="K·ª∑ ni·ªám">
            </div>

            <div class="photo-card" style="animation-delay: 0.8s" onclick="openLightbox(this)">
                <img src="../image/anh8.jpg" onerror="this.src='https://images.unsplash.com/photo-1511629091441-ee46146481b6?w=600&q=80'" alt="K·ª∑ ni·ªám">
            </div>

             <div class="photo-card" style="animation-delay: 0.9s" onclick="openLightbox(this)">
                <img src="../image/anh9.jpg" onerror="this.src='https://images.unsplash.com/photo-1546410531-bb4caa6b424d?w=600&q=80'" alt="K·ª∑ ni·ªám">
            </div>
        </div>

        <!-- Footer -->
        <footer class="text-center mt-24 pb-8">
            <a href="../index.html" class="group relative inline-flex items-center gap-3 px-8 py-4 bg-white text-pink-600 font-bold rounded-full shadow-lg overflow-hidden transition-all hover:shadow-pink-200 hover:scale-105 active:scale-95 border border-pink-100">
                <div class="absolute inset-0 bg-gradient-to-r from-pink-100 to-purple-100 opacity-0 group-hover:opacity-100 transition-opacity"></div>
                <span class="relative z-10 text-xl transition-transform group-hover:-translate-x-1">‚ùÆ</span>
                <span class="relative z-10">Quay v·ªÅ trang ƒë·∫ßu</span>
            </a>
        </footer>

    </div>

    <script>
        // --- X·ª≠ l√Ω Lightbox ---
        const lightbox = document.getElementById('lightbox');
        const lightboxImg = document.getElementById('lightbox-img');
        
        function openLightbox(element) {
            const img = element.querySelector('img');
            lightboxImg.src = img.src;
            lightbox.classList.add('active');
            document.body.style.overflow = 'hidden'; // Kh√≥a cu·ªôn trang
        }

        function closeLightbox() {
            lightbox.classList.remove('active');
            document.body.style.overflow = ''; // M·ªü kh√≥a cu·ªôn
        }

        // --- X·ª≠ l√Ω Nh·∫°c ---
        const audio = document.getElementById("bgAudio");
        const musicBtn = document.querySelector(".music-control");
        let isPlaying = false;

        function toggleMusic() {
            if (isPlaying) {
                audio.pause();
                musicBtn.classList.remove("playing");
                musicBtn.innerHTML = '<i class="fa-solid fa-compact-disc text-2xl text-gray-400"></i>';
            } else {
                audio.play();
                musicBtn.classList.add("playing");
                musicBtn.innerHTML = '<i class="fa-solid fa-music text-2xl text-pink-600"></i>';
            }
            isPlaying = !isPlaying;
        }

        // T·ª± ƒë·ªông ph√°t nh·∫°c khi t·∫£i trang (v·ªõi fallback)
        document.addEventListener('DOMContentLoaded', function() {
            audio.volume = 0.6;
            var playPromise = audio.play();
            if (playPromise !== undefined) {
                playPromise.then(() => {
                    isPlaying = true;
                    musicBtn.classList.add("playing");
                    musicBtn.innerHTML = '<i class="fa-solid fa-music text-2xl text-pink-600"></i>';
                }).catch(error => {
                    console.log("Ch·ªù t∆∞∆°ng t√°c ƒë·ªÉ ph√°t nh·∫°c...");
                    // Th√™m event click v√†o body ƒë·ªÉ ph√°t nh·∫°c l·∫ßn ƒë·∫ßu
                    document.body.addEventListener('click', function() {
                        if(!isPlaying) toggleMusic();
                    }, { once: true });
                });
            }
        });

        // --- Hi·ªáu ·ª©ng hoa r∆°i (Decoration) ---
        function createFlower() {
            const flower = document.createElement('div');
            flower.innerHTML = 'üå∏';
            flower.classList.add('flower');
            flower.style.left = Math.random() * 100 + 'vw';
            flower.style.animationDuration = Math.random() * 3 + 5 + 's';
            flower.style.fontSize = Math.random() * 10 + 15 + 'px';
            document.body.appendChild(flower);

            setTimeout(() => {
                flower.remove();
            }, 8000);
        }
        setInterval(createFlower, 800); // T·∫°o hoa m·ªói 0.8s
    </script>

</body>
</html>
